---
layout: post
title: "Cómo conseguir una cita previa en Extranjería sin esperar, con scripting
"
categories: [technology]
---

Hasta ahora, había tres o cuatro veces cuando necesitaba pedir cita previa de Extranjería. La primera vez, estaba buscando un NIE bajo el régimen comunitario, en Barcelona. Este trámite en particular tiene que conformar con las leyes del UE, para facilitar el derecho de movimiento. Estaba sorprendido cuando descubrí como funciona el sistema en realidad.

# Primer contacto

Tendría que meterme enfrente de la computadora cada lunes a las ocho en punto, justo cuando se comienza a trabajar en extranjería, y emiten las citas nuevas para los próximos dos semanas. ¿Cómo sabía hacer esto? Es una de las numerosas teorías que se puede encontrar en línea, en varios fórums. No hay información fiable en ningún sitio, así que hay que probar todas las teorías. En este caso, era esa que funcionó.

Este proceso no es lo peor del todos, en realidad los procesos bajos del régimen comunitario están manejados apartes y son las citas son más fáciles conseguir.

# Segunda vez, tercera vez y desesperanza

Esta primera vez he logrado después de dos o tres semanas intentando. Y bueno, era un logro. Sin embargo, tarde o temprano, se va a tener que hacer más trámites.

Pues, así seguí con dos o tres trámites más, perdiendo el tiempo sin sentido (y mi pareja también haciendo cosas, perdiendo tiempo también). Al final, encontremos un trámite muy popular, y eso nos costemos tanto tiempo que pensé: hay que haber una mejor opción para solucionarlo.

# El medio de solucionar: informática

El principio es sencillo. Porque estamos usando la computadora para pedir citas, (casi) todo que puede ser una persona, un programa puede hacer también. Así escribí un programa para acceder al sitio web y rellenar todos los formularios necesarios para pedir una cita.

¡Y qué gran diferencia! Mi pareja ha estado tres o cuatro semanas de mi pareja tratando de pedir cita, unas cuantas veces cada día. He capturado todo su método - incluyendo el conocimiento de cuando liberan citas - como programa. Cuando terminé el programa, estuvimos capazes de pedir las dos citas que necesitábamos el mismo día.

# Cómo reproducir

Es importante saber que estos métodos no son permitidos en la mayoría de sitios web. Pero en práctica, si lo usan con sensibilidad, no tendría problema. ¿Qué significa eso? Que lo más seguro es no hacer solicitudes más rápido que puede hacer una persona.

Sin embargo, sitios que ve mucho *scraping* intentan hacer lo más difícil. Incluso sitios en general siempre cambian, y es por eso que un programa de *scraping* pronto necesitará actualizaciones para seguir funcionado.

Por estas razones no es fácil dar una solución sencilla y fiable. Pero puedo compartir un programa que funcionó para mí.

# La Ética

Desafortunadamente, ya hay mucha gente utilizando cosas como este por trabajo, acumulando muchas citas. Si estás tú unas de estas personas, debes saber la consecuencia de eso es hacer muchas otras personas perder el tiempo. Y aunque la existencia de esta profesión es inevitable por la naturaleza del sistema, y todos necesitamos ganarnos la vida, todavía debes sentirte mal.

Pensé mucho en cómo mejorar esto, y si una solución técnica más fácil mejoraría o empeoraría la situación. Porque ya hay mucha gente explotando el sistema, espero que un programa puede nivelar el campo de juego un poco. Así, al final, decidí liberarlo para que vosotros podréis aprovechar.

# El Programa

Puedes acceder el código aquí, donde hay también instrucciones para como instalar y usar.
